(function(e){function t(t){for(var n,a,o=t[0],c=t[1],u=t[2],d=0,h=[];d<o.length;d++)a=o[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&h.push(r[a][0]),r[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(h.length)h.shift()();return i.push.apply(i,u||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],n=!0,o=1;o<s.length;o++){var c=s[o];0!==r[c]&&(n=!1)}n&&(i.splice(t--,1),e=a(a.s=s[0]))}return e}var n={},r={app:0},i=[];function a(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=e,a.c=n,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(s,n,function(t){return e[t]}.bind(null,n));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var n=s("85ec"),r=s.n(n);r.a},"1ba7":function(e,t,s){"use strict";var n=s("2c27"),r=s.n(n);r.a},"23f3":function(e,t,s){"use strict";var n=s("9402"),r=s.n(n);r.a},"2c27":function(e,t,s){},"2f67":function(e,t,s){},"3e30":function(e,t,s){},"42f6":function(e,t,s){},4406:function(e,t,s){"use strict";var n=s("b002"),r=s.n(n);r.a},5360:function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("Dealer",{ref:"Dealer"}),s("div",{staticClass:"flex message"},[s("p",[e._v(e._s(e.message))])]),s("Player",{ref:"Player",on:{"bet-click":function(t){e.activateButtons(),e.startNewRound()},"hit-click":function(t){e.drawCard("player"),e.checkConditions(),e.deactivateButtons()},"stand-click":function(t){return e.standForPlayer()},"double-click":function(t){return e.doubleDown()}}})],1)},i=[],a=(s("c975"),s("13d5"),s("a434"),{methods:{calculate:function(e,t){if("A"===e.rank&&this.sum(t)+e.value>21)t.push(e.altValue);else{var s=t.indexOf(11);this.sum(t)+e.value>21&&s>-1?(t.splice(s,1),t.push(1),t.push(e.value)):t.push(e.value)}return t},sum:function(e){return e.reduce((function(e,t){return e+t}),0)}}}),o=(s("a9e3"),s("8ba4"),s("ec26")),c={data:function(){return{deck:[],drawnCard:void 0,suits:["hearts","diamonds","clubs","spades"],ranks:[2,3,4,5,6,7,8,9,10,"J","Q","K","A"]}},watch:{deck:function(){this.deck.length<4&&(console.log("EMPTY, RELOADING"),this.assembleDeck())}},mounted:function(){this.assembleDeck()},methods:{assembleDeck:function(){this.drawnCard=void 0,this.deck=[];for(var e=0;e<this.suits.length;e++)for(var t=0;t<this.ranks.length;t++){var s={};s.id=Object(o["a"])(),s.suit=this.suits[e],s.rank=this.ranks[t],s.value=this.cardValue(this.ranks[t]),s.altValue=1,this.deck.push(s)}},cardFromDeck:function(){var e=Math.floor(Math.random()*this.deck.length);return this.drawnCard=this.deck.splice(e,1)[0],this.drawnCard},cardValue:function(e){return"A"===e?11:Number.isInteger(e)?e:10}}},u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"dealer"}},[s("div",{staticClass:"flex dealer-row"},[s("div",{staticClass:"hidden",attrs:{id:"overlay"}}),e._l(this.hand,(function(e){return s("div",{key:e.id},[s("Card",{attrs:{rank:e.rank,suit:e.suit}})],1)}))],2),s("div",{staticClass:"flex score-row"},[s("Score",{attrs:{type:e.type,label:"Dealer Score",score:e.sum(this.score)}})],1)])},l=[],d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:[e.classes]},[s("div",[s("div",{staticClass:"top-left-rank"},[e._v(e._s(e.rank))]),s("div",{staticClass:"top-left-suit",domProps:{innerHTML:e._s(e.suitHTMLCharacter)}})]),s("div",[s("div",{staticClass:"middle-suit",domProps:{innerHTML:e._s(e.suitHTMLCharacter)}})]),s("div",[s("div",{staticClass:"bottom-right-rank"},[e._v(e._s(e.rank))]),s("div",{staticClass:"bottom-right-suit",domProps:{innerHTML:e._s(e.suitHTMLCharacter)}})])])},h=[],f={name:"Card",props:["id","rank","suit"],computed:{suitColor:function(){return"hearts"===this.suit||"diamonds"===this.suit?"red":"black"},suitHTMLCharacter:function(){return"diamonds"===this.suit?"&diams;":"&".concat(this.suit.toLowerCase(),";")},cardSize:function(){return"mobile"===this.$mq?"card-mobile":"card-desktop"},classes:function(){return[this.suitColor,this.cardSize]}}},b=f,m=(s("d4f0"),s("2877")),p=Object(m["a"])(b,d,h,!1,null,"6045b694",null),y=p.exports,k=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"grid row"},[s("label",[e._v(e._s(e.label))]),s("input",{attrs:{type:e.type,disabled:""},domProps:{value:e.score}})])},v=[],$={name:"Score",props:{label:{type:String,required:!0},type:{type:String,required:!0},score:{type:Number,required:!0,default:0}}},P=$,w=(s("b568"),Object(m["a"])(P,k,v,!1,null,"458e2ca6",null)),g=w.exports,S={name:"Dealer",mixins:[a],components:{Card:y,Score:g},data:function(){return{hand:[],score:[],type:"hidden"}},mounted:function(){},methods:{increaseScore:function(e){this.score=this.calculate(e,this.score)},reset:function(){this.hide(),this.hand=[],this.score=[]},show:function(){document.getElementById("dealer").classList.remove("white"),document.getElementById("overlay").classList.add("hidden"),this.type="number"},hide:function(){document.getElementById("dealer").classList.add("white"),document.getElementById("overlay").classList.remove("hidden"),this.type="hidden"}}},B=S,D=(s("4406"),Object(m["a"])(B,u,l,!1,null,"71cdfe1a",null)),C=D.exports,_=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"grid player-row"},e._l(this.hand,(function(e){return s("div",{key:e.id},[s("Card",{attrs:{rank:e.rank,suit:e.suit}})],1)})),0),s("div",{staticClass:"grid score-row"},[s("Score",{attrs:{type:"number",label:"Player Score",score:e.sum(this.score)}})],1),s("div",{staticClass:"grid score-row"},[s("Score",{attrs:{type:"number",label:"Money",score:this.money}})],1),s("Bet",{ref:"Bet",on:{"button-click":function(t){return e.$emit("bet-click")}}}),s("div",{staticClass:"grid player-buttons-row"},[s("Button",{ref:"Hit",attrs:{displayText:"Hit"},on:{"button-click":function(t){return e.$emit("hit-click")}}}),s("Button",{ref:"Stand",attrs:{displayText:"Stand"},on:{"button-click":function(t){return e.$emit("stand-click")}}}),s("Button",{ref:"Double",attrs:{displayText:"Double Down"},on:{"button-click":function(t){return e.$emit("double-click")}}})],1)],1)},x=[],E=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"bottom-row grid row"},[s("Button",{ref:"BetButton",attrs:{displayText:"Bet"},on:{"button-click":function(t){return e.$emit("button-click")}}}),s("Input",{ref:"BetAmount",attrs:{type:"number"}})],1)},H=[],L=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{attrs:{disabled:e.disabled},on:{click:function(t){return e.$emit("button-click")}}},[e._v(e._s(e.displayText))])},M=[],O={name:"Button",data:function(){return{disabled:!1}},props:{displayText:{type:String,required:!0}},methods:{enable:function(){this.disabled=!1},disable:function(){this.disabled=!0},toggle:function(){this.disabled=(this.disabled+1)%2}}},I=O,A=(s("1ba7"),Object(m["a"])(I,L,M,!1,null,"77747e26",null)),T=A.exports,j=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"grid single"},[s("input",{attrs:{id:"betValue",type:e.type,disabled:e.disabled}})])},N=[],R={name:"Input",data:function(){return{disabled:!1}},props:{type:{type:String,required:!0}},methods:{enable:function(){this.disabled=!1},disable:function(){this.disabled=!0}}},F=R,J=(s("8366"),Object(m["a"])(F,j,N,!1,null,"169cfab5",null)),V=J.exports,q={name:"Bet",components:{Button:T,Input:V},methods:{lock:function(){this.$refs.BetButton.disable(),this.$refs.BetAmount.disable()},unlock:function(){this.$refs.BetButton.enable(),this.$refs.BetAmount.enable()}}},K=q,W=(s("23f3"),Object(m["a"])(K,E,H,!1,null,"631cbe2e",null)),Y=W.exports,U={name:"Player",mixins:[a],components:{Bet:Y,Button:T,Card:y,Score:g},data:function(){return{hand:[],score:[],money:1e3,bet:Number}},mounted:function(){},methods:{increaseScore:function(e){this.score=this.calculate(e,this.score),this.bet=document.getElementById("betValue").value},reduceMoney:function(){this.money-=this.bet},doubleBet:function(){document.getElementById("betValue").value=2*this.bet,this.bet=document.getElementById("betValue").value,this.money-=this.bet/2},increaseMoney:function(e){switch(e){case"regular":this.money+=parseInt(this.bet);break;case"double":this.money+=2*parseInt(this.bet);break;case"blackJack":this.money+=2.5*parseInt(this.bet);break}},reset:function(){this.hand=[],this.score=[]},buttonsForNextRound:function(){this.lockHitStand(),this.lockDoubleDown(),this.unlockBet()},lockHitStand:function(){this.$refs.Hit.disable(),this.$refs.Stand.disable()},unlockHitStand:function(){this.$refs.Hit.enable(),this.$refs.Stand.enable(),this.$refs.Double.enable()},lockStand:function(){this.$refs.Stand.disable()},unlockStand:function(){this.$refs.Stand.enable()},lockHit:function(){this.$refs.Hit.disable()},unlockHit:function(){this.$refs.Hit.enable()},lockBet:function(){this.$refs.Bet.lock()},unlockBet:function(){this.$refs.Bet.unlock()},lockDoubleDown:function(){this.$refs.Double.disable()},unlockDoubleDown:function(){this.$refs.Double.enable()}}},z=U,G=(s("6131"),Object(m["a"])(z,_,x,!1,null,null,null)),Q=G.exports,X={name:"App",mixins:[c,a],components:{Dealer:C,Player:Q},data:function(){return{message:""}},mounted:function(){this.init()},methods:{drawCard:function(e){var t=this.cardFromDeck();switch(e){case"player":this.$refs.Player.hand.push(t),this.$refs.Player.increaseScore(t);break;case"dealer":this.$refs.Dealer.hand.push(t),this.$refs.Dealer.increaseScore(t);break}},checkConditions:function(){this.checkPlayerBust(),this.checkPlayerHas21()},checkBlackJack:function(){21===this.sum(this.$refs.Player.score)?(this.message="BLACKJACK - PLAYER WINS!",this.$refs.Player.increaseMoney("blackJack"),this.$refs.Player.buttonsForNextRound()):21===this.sum(this.$refs.Dealer.score)&&(this.$refs.Dealer.show(),this.message="BLACKJACK - DEALER WINS!",this.$refs.Player.buttonsForNextRound())},checkPlayerHas21:function(){21===this.sum(this.$refs.Player.score)&&(this.$refs.Player.lockHitStand(),this.autoDealer())},checkPlayerBust:function(){this.sum(this.$refs.Player.score)>21&&(this.message="PLAYER BUSTS!",this.$refs.Player.buttonsForNextRound())},checkScores:function(){var e=this.sum(this.$refs.Dealer.score),t=this.sum(this.$refs.Player.score);switch(!0){case e>21:this.message="DEALER BUSTS, PLAYER WINS!",this.$refs.Player.increaseMoney("double");break;case e>t:this.message="DEALER WINS!";break;case e<t:this.message="PLAYER WINS!",this.$refs.Player.increaseMoney("double");break;case e==t:this.message="PUSH!",this.$refs.Player.increaseMoney("regular");break}this.$refs.Player.unlockBet()},standForPlayer:function(){this.$refs.Player.lockHit(),this.$refs.Player.lockStand(),this.$refs.Player.lockDoubleDown(),this.autoDealer()},startNewRound:function(){this.message="",this.$refs.Player.reset(),this.$refs.Dealer.reset(),this.drawCard("player"),this.drawCard("player"),this.drawCard("dealer"),this.drawCard("dealer"),this.$refs.Player.reduceMoney(),this.checkBlackJack()},autoDealer:function(){this.$refs.Dealer.show();while(this.sum(this.$refs.Dealer.score)<17)this.drawCard("dealer");this.checkScores()},init:function(){this.$refs.Player.lockHit(),this.$refs.Player.lockStand(),this.$refs.Player.lockDoubleDown()},activateButtons:function(){this.$refs.Player.unlockHit(),this.$refs.Player.unlockStand(),this.$refs.Player.unlockDoubleDown(),this.$refs.Player.lockBet()},deactivateButtons:function(){this.$refs.Player.lockDoubleDown()},doubleDown:function(){this.$refs.Player.lockDoubleDown(),this.$refs.Player.doubleBet(),this.drawCard("player"),this.standForPlayer()}}},Z=X,ee=(s("034f"),Object(m["a"])(Z,r,i,!1,null,null,null)),te=ee.exports,se=s("660e");n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(te)}}).$mount("#app"),n["a"].use(se["a"],{breakpoints:{mobile:450,desktop:1/0}})},6131:function(e,t,s){"use strict";var n=s("2f67"),r=s.n(n);r.a},8366:function(e,t,s){"use strict";var n=s("5360"),r=s.n(n);r.a},"85ec":function(e,t,s){},9402:function(e,t,s){},b002:function(e,t,s){},b568:function(e,t,s){"use strict";var n=s("42f6"),r=s.n(n);r.a},d4f0:function(e,t,s){"use strict";var n=s("3e30"),r=s.n(n);r.a}});
//# sourceMappingURL=app.ef3100d0.js.map